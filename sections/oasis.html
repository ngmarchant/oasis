<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OASIS &#8212; OASIS 99d8a59 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '99d8a59',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Other samplers" href="other-samplers.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="oasis">
<span id="id1"></span><h1>OASIS<a class="headerlink" href="#oasis" title="Permalink to this headline">¶</a></h1>
<p>The OASIS method generates estimates of the weighted F-measure for a binary
classifier with respect to a finite pool (test set). In terms of Type I and II
errors, the weighted F-measure is defined as follows:</p>
<div class="math">
\[F_\alpha = \frac{\mathrm{TP}}{\alpha (\mathrm{TP} + \mathrm{FP}) + (1-\alpha)(\mathrm{TP} + \mathrm{FN})}\]</div>
<p>where <span class="math">\(\alpha \in {[0,1]}\)</span> is the weight, TP is the number of true
positives, FP is the number of false positives and FN is the number of false
negatives. The weighted F-measure takes on special values for
<span class="math">\(\alpha = 0, 0.5, 1\)</span>. <span class="math">\(F_0\)</span> corresponds to recall, <span class="math">\(F_{0.5}\)</span>
corresponds to F1-score (balanced F-measure), and <span class="math">\(F_1\)</span> corresponds to
precision.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This section serves as an introductory guide to the functionality of OASIS.
Please consult the API reference for the <a class="reference internal" href="../generated/oasis.OASISSampler.html#oasis.OASISSampler" title="oasis.OASISSampler"><code class="xref py py-class docutils literal"><span class="pre">oasis.OASISSampler</span></code></a> class
for more detailed information.</p>
</div>
<div class="section" id="required-input">
<h2>Required input<a class="headerlink" href="#required-input" title="Permalink to this headline">¶</a></h2>
<p>OASIS requires four main inputs:</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">alpha</span></code>: the F-measure weight as defined above</li>
<li><code class="docutils literal"><span class="pre">predictions</span></code>: predicted labels for the items in the pool (according to the
classifier(s))</li>
<li><code class="docutils literal"><span class="pre">scores</span></code>: classifier scores for the items in the pool (e.g. estimated
positive class probability, distance from decision boundary)</li>
<li><code class="docutils literal"><span class="pre">oracle</span></code>: a function which returns ground truth labels for items in the
pool (i.e. an interface to a labeller)</li>
</ol>
<div class="section" id="multiple-classifiers">
<h3>Multiple classifiers<a class="headerlink" href="#multiple-classifiers" title="Permalink to this headline">¶</a></h3>
<p>OASIS supports evaluating multiple classifiers on the same test set
<em>in parallel</em>. It will optimise the sampling strategy to ensure that the
performance estimates for all of the classifiers have minimal variance.
To use this functionality, simply pass two-dimensional arrays for the
<code class="docutils literal"><span class="pre">predictions</span></code> and <code class="docutils literal"><span class="pre">scores</span></code> inputs. The rows of these arrays should
correspond to the items and the columns should correspond to the different
classifiers.</p>
</div>
<div class="section" id="item-identifiers">
<h3>Item identifiers<a class="headerlink" href="#item-identifiers" title="Permalink to this headline">¶</a></h3>
<p>OASIS permits the use of custom unique identifiers for the items in the pool.
Simply pass an array to the <code class="docutils literal"><span class="pre">identifiers</span></code> argument. If custom identifiers are
provided, they will be used when making queries to the oracle function.
Otherwise OASIS will refer to the items in the pool according to their index
in the input <code class="docutils literal"><span class="pre">predictions</span></code>/<code class="docutils literal"><span class="pre">scores</span></code> arrays.</p>
</div>
</div>
<div class="section" id="other-parameters">
<h2>Other parameters<a class="headerlink" href="#other-parameters" title="Permalink to this headline">¶</a></h2>
<p>There are several optional parameters that may be used to control the
behaviour of OASIS. They are explained in detail in the API reference for the
<a class="reference internal" href="../generated/oasis.OASISSampler.html#oasis.OASISSampler" title="oasis.OASISSampler"><code class="xref py py-class docutils literal"><span class="pre">oasis.OASISSampler</span></code></a> class. Here, we focus on two important sets of
optional parameters: those that control the stratification of the pool and
those that control the greediness of the sampling.</p>
<div class="section" id="stratification-parameters">
<h3>Stratification parameters<a class="headerlink" href="#stratification-parameters" title="Permalink to this headline">¶</a></h3>
<p>The OASIS method involves partitioning the pool into non-overlapping sets
called strata. The strata should be roughly homogeneous&#8212;i.e. they should
contain items with roughly the same labels (or label probabilities if the
labels are uncertain). By default, OASIS will attempt to stratify the pool
based on the scores using the &#8216;cum_sqrt_F&#8217; method. It will also attempt to
choose an appropriate number of strata automatically, based on the distribution
of the scores.</p>
<p>On occassion, the strata chosen by the automatic method are inappropriate. For
example, if the score distribution is highly skewed, the automatic method may
yield some strata which are too small (containing only a couple of items). For
this reason, it is always advisable to check that the strata are sensible
before beginning labelling.</p>
<p>The strata can be tweaked as follows:</p>
<ul class="simple">
<li>by providing a custom <a class="reference internal" href="../generated/oasis.stratification.Strata.html#oasis.stratification.Strata" title="oasis.stratification.Strata"><code class="xref py py-class docutils literal"><span class="pre">oasis.stratification.Strata</span></code></a> instance for the
<code class="docutils literal"><span class="pre">strata</span></code> argument</li>
<li>by providing the <code class="docutils literal"><span class="pre">stratification_method</span></code>, <code class="docutils literal"><span class="pre">stratification_n_strata</span></code>
and/or <code class="docutils literal"><span class="pre">stratification_n_bins</span></code> keyword arguments (to override the automatic
values)</li>
</ul>
</div>
<div class="section" id="greediness-parameters">
<h3>Greediness parameters<a class="headerlink" href="#greediness-parameters" title="Permalink to this headline">¶</a></h3>
<p>OASIS samples from the &#8220;optimal&#8221; instrumental distribution with probability
<code class="docutils literal"><span class="pre">1</span> <span class="pre">-</span> <span class="pre">epsilon</span></code>, and from the passive (uniform) distribution with
probability <code class="docutils literal"><span class="pre">epsilon</span></code>. The default setting for the greediness parameter
is <code class="docutils literal"><span class="pre">epsilon</span> <span class="pre">=</span> <span class="pre">1e-3</span></code>&#8212;i.e. it is set to be greedy for more rapid convergence.
To conduct more &#8220;explorative&#8221; sampling, you should set <code class="docutils literal"><span class="pre">epsilon</span></code> closer to 1.</p>
<p>There are other parameters which indirectly control the greediness of the
sampling. The <code class="docutils literal"><span class="pre">decaying_prior</span></code> parameter is set to <code class="docutils literal"><span class="pre">True</span></code> by default and
iteratively decreases the reliance on the prior in favour of the sampled
labels, which is effectively a greedy approach. A related parameter is
<code class="docutils literal"><span class="pre">prior_strength</span></code>, which quantifies the initial weight of the prior. If
<code class="docutils literal"><span class="pre">prior_strength</span></code> is small (close to zero), then the prior will be weak in
comparison to the sampled labels, which is also a greedy strategy.</p>
</div>
</div>
<div class="section" id="labelling-and-estimation">
<h2>Labelling and estimation<a class="headerlink" href="#labelling-and-estimation" title="Permalink to this headline">¶</a></h2>
<p>Once an instance of <a class="reference internal" href="../generated/oasis.OASISSampler.html#oasis.OASISSampler" title="oasis.OASISSampler"><code class="xref py py-class docutils literal"><span class="pre">oasis.OASISSampler</span></code></a> is initialised, labelling can
begin. To sample and label a sequence of items, simply call the <code class="docutils literal"><span class="pre">sample</span></code>
method. In between calls of the <code class="docutils literal"><span class="pre">sample</span></code> method, you may want to check the
estimate of the F-measure to see whether it is converging. The history of
estimates (for each iteration) is stored in the <code class="docutils literal"><span class="pre">estimate_</span></code> attribute.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">There exists an alternative method to <code class="docutils literal"><span class="pre">sample</span></code> called
<code class="docutils literal"><span class="pre">sample_distinct</span></code>, which is useful when sampling with replacement.
This method continues to sample from the pool until a given number of
<strong>distinct</strong> items (i.e. previously unlabelled items) have been sampled.
This differs from <code class="docutils literal"><span class="pre">sample</span></code>, which doesn&#8217;t distinguish between previously
labelled/unlabelled items.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">OASIS</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=ngmarchant&repo=oasis&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">OASIS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#required-input">Required input</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-parameters">Other parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#labelling-and-estimation">Labelling and estimation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="other-samplers.html">Other samplers</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-ref.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/tutorial.html">Tutorial</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="other-samplers.html" title="next chapter">Other samplers</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Neil G. Marchant.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/sections/oasis.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/ngmarchant/oasis" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>